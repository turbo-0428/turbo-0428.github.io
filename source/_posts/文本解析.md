---
title: 文本解析
date: 2024-09-29 10:50:37
tags:
  - Python
categories:
  - SoftwareDesign
---

[前面章节](https://turbo-0428.github.io/2024/09/23/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/)构造了一系列的匹配器，但是在实际使用中，像`Lit("2023-",Any(Either(Lit("pdf"), Lit("txt")))`这种匹配对象的可读性是远远差于`2023-*{pdf,txt}`这种方式的。如果想要实现可读性较高的匹配模式，我们需要实现一个解析器，将人类可读的模式转化为机器可读的模式。

>不要再自己实现Parsers
>
>对于人们习惯性的语言表达，通常计算机都是难以理解的，反之亦然。因此，我们需要使用parser将人类语言转换成机器语言。但是，目前已经存在很多的parser，如：CSV,JSON,YAML等。因此，我们不需要再从头开始重新实现一个parser。



# 分词器(Tokenizing)

大多数解析器由两部分组成，如下图：

![image-20240929180426381](image-20240929180426381.png)

第一部分称为分词器，其作用是将文本分割成有意义的词法单元，我们的词法标记是使用特殊字符`{`、`}`以及`*`，一个或多个字符的任意序列都是多个字母组成的词法单元，该分类决定了我们的分词器设计：

1.   如果一个字符不是特殊字符，那么将其追加或创建一个新的文本单元；
2.   如果字符是特殊字符，那么将闭合现有的文本单元，或者创建一个新的文本单元。

